<div class="column padding-reset" style="margin-top:50px;" nv-file-drop uploader="uploader">
  <div class="header">
    <h1><i class="write icon"></i> {{ mode == "create" ? "Création d'un nouvel Utilisateur" : "Edition de l'utilisateur" }}</h1>
  </div>
  <div class="content ui form segment">
    <form name="userForm" class="ui form" ng-class="{ loading: isFormLoading }" ng-submit="submitForm()" novalidate>
      <input type="hidden" ng-model="currentUser.id">

      <div id="title" class="field" ng-class="{ error: userForm.$submitted && userForm.title.$error.required }">
        <label>Titre</label>
        <div class="ui corner labeled input">
          <input type="text" name="title" placeholder="Titre de l'article" ng-model="currentUser.title" required>
          <div class="ui corner label">
            <i class="asterisk icon"></i>
          </div>
        </div> <!-- /ui corner labeled input -->
      </div> <!-- Field title -->

      <!-- Image manager -->
      <div id="image-uploader" class="field" ng-class="{ error: userForm.$submitted && errorimage }">
        <label>Image de couverture</label>
        <div class="ui right aligned grid">
          <!-- UPLOAD IMAGE ZONE -->
          <div img-uploader class="center aligned two columns row"></div>
        </div>
      </div><!-- .field image -->

      <!-- @todo => president erreur field text angular -->
      <div id="excerpt" class="ui corner labeled input field" ng-class="{ error: userForm.$submitted && userForm.excerpt.$error.required }">
        <label>Introduction</label>
        <div class="pr">
          <textarea name="excerpt" ng-model="currentUser.excerpt" required ng-maxlength="255"></textarea>
          <div class="ui corner label">
            <i class="asterisk icon"></i>
          </div>
        </div>
      </div>

      <div id="content" class="field" ng-class="{ error: userForm.$submitted && userForm.content.$error.required }">
        <label>Contenu</label>
        <textarea name="content" ck-editor ng-model="currentUser.content" required></textarea>
      </div>

      <div class="field">
        <div class="ui toggle checkbox" >
          <input type="checkbox"
                 value="{{currentUser.status}}">
          <label>Publier</label>
        </div>
      </div>

      <!-- errors -->
      <div ng-show="userForm.$submitted && ! userForm.$valid" class="ui error form" style="margin-bottom: 20px">
          <div class="ui error message">
            <div class="header">
              Problème formulaire
            </div>
            <ul class="list list-ancors">
                <li ng-show="userForm.title.$error.required" ng-click="scrollTo('title')">
                Veuillez entrer un titre pour l' article
                </li>
                <li ng-show="errorimage" ng-click="scrollTo('image-uploader')">Le champ image est requis</p>
                <li ng-show="userForm.excerpt.$error.required" ng-click="scrollTo('excerpt')">
                  Veuillez entrer un extrait pour l' article
                </li>
                <li ng-show="userForm.content.$error.required" ng-click="scrollTo('content')">
                  Veuillez entrer un contenu pour l' article
                </li>
            </ul>
          </div>  
      </div> <!-- /ui corner labeled input -->

      <div class="ui buttons">
        <input type="submit" value="{{ modal.mode == 'create' ? 'Creer' : 'Enregistrer les modifications' }}" class="ui submit positive button"/>
        <div class="or"></div>
        <div class="ui button negative reset" ng-click="reset()">Annuler</div>
      </div>
    </form>
  </div>
</div>